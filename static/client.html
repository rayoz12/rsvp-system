<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="darkreader" content="random phrase here">

    <meta property="og:title" content="Invitation for {{name}}" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://ryanandmanjusha.com/{{token}}" />
    <meta property="og:image" content="https://ryanandmanjusha.com/res/socials/names.png" />

    <link rel="icon" type="image/x-icon" href="/res/favicon/favicon.ico">
    <title>Ryan & Manjusha</title>
    <link rel="stylesheet" href="/res/normalise.css" type="text/css">
    <link rel="stylesheet" href="/common/css/styles.css" type="text/css">    
    <link rel="stylesheet" href="/res/sakura-earthly.css" type="text/css">
</head>

<body>
    <h1 class="names">Ryan & Manjusha</h1>

    {{#if notification}}
    <div class="flex flex-row items-center w-full h-[50px]">
        <div style="height: 100%; width: 50px; text-align: center; background-color: #1d8348;">
            <svg class="block m-auto" style="height: 100%; fill: white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="000000" d="M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"/></svg>
        </div>
        <div class="flex-grow flex items-center" style="height: 100%; background-color: #27ae60; vertical-align: center; padding-left: 10px; color: white;">
            {{notification}}
        </div>
    </div>
    {{/if}}

    {{#if warn}}
    <div class="flex flex-row items-center w-full h-[50px]">
        <div style="height: 100%; width: 50px; text-align: center; background-color: #dda600; display: flex; flex-direction: column; justify-content: center;">
            <svg style="height: 50%;" fill="#ffffff" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 310.806 310.806" xml:space="preserve"><path d="M305.095,229.104L186.055,42.579c-6.713-10.52-18.172-16.801-30.652-16.801c-12.481,0-23.94,6.281-30.651,16.801 L5.711,229.103c-7.145,11.197-7.619,25.39-1.233,37.042c6.386,11.647,18.604,18.883,31.886,18.883h238.079 c13.282,0,25.5-7.235,31.888-18.886C312.714,254.493,312.24,240.301,305.095,229.104z M155.403,253.631 c-10.947,0-19.82-8.874-19.82-19.82c0-10.947,8.874-19.821,19.82-19.821c10.947,0,19.82,8.874,19.82,19.821 C175.223,244.757,166.349,253.631,155.403,253.631z M182.875,115.9l-9.762,65.727c-1.437,9.675-10.445,16.353-20.119,14.916 c-7.816-1.161-13.676-7.289-14.881-14.692l-10.601-65.597c-2.468-15.273,7.912-29.655,23.185-32.123 c15.273-2.468,29.655,7.912,32.123,23.185C183.284,110.192,183.268,113.161,182.875,115.9z"/></svg>
        </div>
        <div class="flex-grow flex items-center" style="height: 100%; background-color: #ffc107; vertical-align: center; padding-left: 10px; color: black;">
            {{warn}}
        </div>
    </div>
    {{/if}}

    {{#if error}}
    <div class="flex flex-row items-center w-full h-[50px]">
        <div style="height: 100%; width: 50px; text-align: center; background-color: #ffe1e3">
            <svg style="height: 100%; fill: white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="000000" d="M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"/></svg>
        </div>
        <div class="flex-grow flex items-center" style="height: 100%; background-color: #fa9ba3; vertical-align: center; padding-left: 10px; color: white;">
            {{error}}
        </div>
    </div>
    {{/if}}

    <form method="post" action="invitee-response" enctype="application/x-www-form-urlencoded" target="_self">

        <input hidden type="text" name="token" value="{{token}}" />

        <h2>Hello {{name}}</h2>
        <p class="question">We would love to invite you to our Nuptials & Reception on the 24th of November</p>


        
        {{#if indianResponseEnabled}}
        <h2 class="decorated"><span>Indian Ceremony</span></h2>
        <p class="question">Oatlands Estate: 42 Bettington Rd, Oatlands</p>
        <div style="width: 100%;">
            <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d13262.635567101206!2d151.0300364!3d-33.7953058!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6b12a39bd0384f7f%3A0x1907c0ae2d13d4c2!2sOatlands%20Estate!5e0!3m2!1sen!2sau!4v1708416616842!5m2!1sen!2sau" height="300" style="border:0;width: 100%;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>

        <fieldset>
            <legend>Will you join us at the Indian Ceremony?</legend>
            <div class="flex flex-row">
                <div style="width: 50%;" class="flex items-center flex-col option">
                    <label for="indianResponseYes">Yes, I'll be there!</label>
                    <input 
                        type="radio"
                        id="indianResponseYes"
                        name="indianResponse"
                        required 
                        value="yes"
                        {{#if (isSet indianResponse)}} {{#if indianResponse}} checked {{/if}} {{/if}}
                    />
                </div>
                <div style="width: 50%;" class="flex items-center flex-col option">
                    <label for="indianResponseNo">No</label>
                    <input 
                        type="radio"
                        id="indianResponseNo"
                        name="indianResponse"
                        required 
                        value="no"
                        {{#if (isSet indianResponse)}} {{#if (not indianResponse)}} checked {{/if}} {{/if}}
                    />
                </div>
            </div>
        </fieldset>
        {{/if}}


        {{#if nuptialsResponseEnabled}}
        <h2 class="decorated"><span>Nuptials</span></h2>
        <p class="question">The Good Shepherd Parish Plumpton: 136 Hyatts Rd, Plumpton</p>
        <div style="width: 100%;">
            <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d13270.02828291248!2d150.8333391!3d-33.7475604!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6b129bb4233a84ab%3A0x14161442202c0426!2sThe%20Good%20Shepherd%20Parish%20Plumpton!5e0!3m2!1sen!2sau!4v1707613982564!5m2!1sen!2sau" height="300" style="border:0;width: 100%;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>

        <fieldset>
            <legend>Will you join us at our Nuptials?</legend>
            <div class="flex flex-row">
                <div style="width: 50%;" class="flex items-center flex-col option">
                    <label for="nuptialsResponseYes">Yes, I'll be there!</label>
                    <input 
                        type="radio"
                        id="nuptialsResponseYes"
                        name="nuptialsResponse"
                        required 
                        value="yes"
                        {{#if (isSet nuptialsResponse)}} {{#if nuptialsResponse}} checked {{/if}} {{/if}}
                    />
                </div>
                <div style="width: 50%;" class="flex items-center flex-col option">
                    <label for="nuptialsResponseNo">No</label>
                    <input 
                        type="radio"
                        id="nuptialsResponseNo"
                        name="nuptialsResponse"
                        required 
                        value="no"
                        {{#if (isSet nuptialsResponse)}} {{#if (not nuptialsResponse)}} checked {{/if}} {{/if}}
                    />
                </div>
            </div>
        </fieldset>
        {{/if}}

        <p class="question">Feel free to bring along a +1</p>

        {{#if receptionResponseEnabled}}
        <h2 class="decorated"><span>Reception</span></h2>
        <p class="question">Montage: 38 Frazer St, Lilyfield</p>
        <div style="width: 100%;">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3312.749171860629!2d151.14994657724114!3d-33.870354573226095!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6b12affcac9a22d3%3A0x387e7c836ddd2ff!2sMontage%20Sydney!5e0!3m2!1sen!2sau!4v1707614003625!5m2!1sen!2sau" height="300" style="border:0;width: 100%;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>

        <fieldset>
            <legend>Will you join us at our Reception?</legend>
            <div class="flex flex-row">
                <div style="width: 50%;" class="flex items-center flex-col option">
                    <label for="receptionResponseYes">Yes, I'll be there!</label>
                    <input
                        type="radio"
                        id="receptionResponseYes"
                        name="receptionResponse"
                        required
                        value="yes"
                        {{#if (isSet receptionResponse)}} {{#if receptionResponse}} checked {{/if}} {{/if}}
                    />
                </div>
                <div style="width: 50%;" class="flex items-center flex-col option">
                    <label for="receptionResponseNo">No</label>
                    <input
                        type="radio"
                        id="receptionResponseNo"
                        name="receptionResponse"
                        required
                        value="no"
                        {{#if (isSet receptionResponse)}} {{#if (not receptionResponse)}} checked {{/if}} {{/if}}
                    />
                </div>
            </div>
        </fieldset>
        {{/if}}

        {{#if plus1Enabled}}

        <p class="question" >Will you bring along someone to celebrate?</p>
        <p>
            <label>
                <input
                    type="radio"
                    name="plus1"
                    required
                    value="yes"
                    {{#if (isSet plus1)}} {{#if plus1}} checked {{/if}} {{/if}}
                />
                Yes
            </label>
        </p>
        <p>
            <label>
                <input
                    type="radio"
                    name="plus1"
                    required
                    value="no"
                    {{#if (isSet plus1)}} {{#if (not plus1)}} checked {{/if}} {{/if}}
                />
                No
            </label>
        </p>

        <p id="plus1Element" class="plus1Element fade-in">
            <label>
                What's their Name?
                <input
                    type="text"
                    id="plus1Name"
                    name="plus1Name"
                    required
                    {{#if (isSet plus1Name)}} value="{{plus1Name}}" {{/if}}
                />
            </label>
        </p>

        {{/if}}

        {{#if plus1Invitee}}

        <p class="question">We have your Plus 1 registered</p>
        <div style="height: 50px;" class="flex flex-row items-center">
            {{#if (isResponseComplete plus1ResponseStatus)}}
                <img style="margin: 0; padding-right: 15px;" src="res/yes.svg" >
            {{/if}}
            <span class="flex-grow">
                {{plus1Invitee.name}}
            </span>
            <span>
                Complete their <a target="_blank" href="/{{plus1Invitee.id}}">RSVP</a>
                <svg class="inline h-full" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 32 32" width="16px" height="16px"><path d="M 18 5 L 18 7 L 23.5625 7 L 11.28125 19.28125 L 12.71875 20.71875 L 25 8.4375 L 25 14 L 27 14 L 27 5 Z M 5 9 L 5 27 L 23 27 L 23 14 L 21 16 L 21 25 L 7 25 L 7 11 L 16 11 L 18 9 Z"/></svg>
            </span>
        </div>

        {{/if}}

        <p>
            <h4>Dietary Requirements</h4>
            <label>
                <input
                    type="checkbox"
                    name="dietaryRequirementsVegetarian"
                    {{#if (contains dietaryRequirements "Vegetarian")}} checked {{/if}}
                />
                Vegetarian
            </label>
            <label>
                <input
                    type="checkbox"
                    name="dietaryRequirementsVegan"
                    {{#if (contains dietaryRequirements "Vegan")}} checked {{/if}}
                />
                Vegan
            </label>
            <textarea
                id="dietaryRequirements"
                name="dietaryRequirements"
                placeholder="Other">{{#if (isSet (cleanDietRequirements dietaryRequirements))}}{{cleanDietRequirements dietaryRequirements}}{{/if}}</textarea>
        </p>

        <p>
            <label>
                What song would get you on the dance floor?
                <textarea id="extraSong" name="extraSong" placeholder="Usher, Fred again.. or the Weeknd?">{{#if (isSet extraSong)}}{{extraSong}}{{/if}}</textarea>
            </label>
        </p>

        <button type="submit">RSVP</button>
    </form>
    <div style="padding-top: 50px; text-align: center;">
        <a target="_blank" href="https://icons8.com/icon/16139/external-link">new tab</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a>
    </div>    
    <script>
        const plus1Name = document.getElementById("plus1Name");
        const radios = document.querySelectorAll('input[name="plus1"]');
        const plus1p = document.getElementById("plus1Element");

        // update intial values

        // Form Dynamic Behaviour
        function bringingPlus1(isBringing) {
            if (isBringing) {
                plus1Name.setAttribute("required", "true");
                plus1p.classList.add("show");
            }
            else {
                plus1Name.removeAttribute("required");
                // plus1Name.value = "";
                plus1p.classList.remove("show");
            }
        }
        
        for (match in radios) {
            radios[match].onchange = function () {
                if (this.value === "yes") {
                    bringingPlus1(true);
                }
                else if (this.value === "no") {
                    bringingPlus1(false);
                }
                else {
                    console.error("Unknown value!");
                }
            }

            if (radios[match].checked && radios[match].value === "yes") {
                bringingPlus1(true);
            }
            else if (radios[match].checked && radios[match].value === "no") {
                bringingPlus1(false);
            }
        }
    </script>
</body>

</html>